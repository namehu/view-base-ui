import{Component as e,Prop as t,Watch as n,Vue as i}from"vue-property-decorator";import{Checkbox as r}from"view-design";var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var a=function(e){return e&&e.Math==Math&&e},s=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof l&&l)||Function("return this")(),c=function(e){try{return!!e()}catch(e){return!0}},d=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,p={f:h&&!u.call({1:2},1)?function(e){var t=h(this,e);return!!t&&t.enumerable}:u},f=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},v={}.toString,b=function(e){return v.call(e).slice(8,-1)},g="".split,A=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==b(e)?g.call(e,""):Object(e)}:Object,m=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},y=function(e){return A(m(e))},x=function(e){return"object"==typeof e?null!==e:"function"==typeof e},C=function(e,t){if(!x(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!x(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!x(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!x(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},k={}.hasOwnProperty,w=function(e,t){return k.call(e,t)},E=s.document,S=x(E)&&x(E.createElement),L=function(e){return S?E.createElement(e):{}},B=!d&&!c((function(){return 7!=Object.defineProperty(L("div"),"a",{get:function(){return 7}}).a})),_=Object.getOwnPropertyDescriptor,O={f:d?_:function(e,t){if(e=y(e),t=C(t,!0),B)try{return _(e,t)}catch(e){}if(w(e,t))return f(!p.f.call(e,t),e[t])}},T=function(e){if(!x(e))throw TypeError(String(e)+" is not an object");return e},P=Object.defineProperty,R={f:d?P:function(e,t,n){if(T(e),t=C(t,!0),T(n),B)try{return P(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},N=d?function(e,t,n){return R.f(e,t,f(1,n))}:function(e,t,n){return e[t]=n,e},M=function(e,t){try{N(s,e,t)}catch(n){s[e]=t}return t},j=s["__core-js_shared__"]||M("__core-js_shared__",{}),z=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(e){return z.call(e)});var I,H,$,F=j.inspectSource,K=s.WeakMap,D="function"==typeof K&&/native code/.test(F(K)),V=o((function(e){(e.exports=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),Y=0,U=Math.random(),W=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Y+U).toString(36)},Z=V("keys"),G=function(e){return Z[e]||(Z[e]=W(e))},X={},q=s.WeakMap;if(D){var Q=new q,J=Q.get,ee=Q.has,te=Q.set;I=function(e,t){return te.call(Q,e,t),t},H=function(e){return J.call(Q,e)||{}},$=function(e){return ee.call(Q,e)}}else{var ne=G("state");X[ne]=!0,I=function(e,t){return N(e,ne,t),t},H=function(e){return w(e,ne)?e[ne]:{}},$=function(e){return w(e,ne)}}var ie={set:I,get:H,has:$,enforce:function(e){return $(e)?H(e):I(e,{})},getterFor:function(e){return function(t){var n;if(!x(t)||(n=H(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},re=o((function(e){var t=ie.get,n=ie.enforce,i=String(String).split("String");(e.exports=function(e,t,r,l){var o=!!l&&!!l.unsafe,a=!!l&&!!l.enumerable,c=!!l&&!!l.noTargetGet;"function"==typeof r&&("string"!=typeof t||w(r,"name")||N(r,"name",t),n(r).source=i.join("string"==typeof t?t:"")),e!==s?(o?!c&&e[t]&&(a=!0):delete e[t],a?e[t]=r:N(e,t,r)):a?e[t]=r:M(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||F(this)}))})),le=s,oe=function(e){return"function"==typeof e?e:void 0},ae=function(e,t){return arguments.length<2?oe(le[e])||oe(s[e]):le[e]&&le[e][t]||s[e]&&s[e][t]},se=Math.ceil,ce=Math.floor,de=function(e){return isNaN(e=+e)?0:(e>0?ce:se)(e)},ue=Math.min,he=function(e){return e>0?ue(de(e),9007199254740991):0},pe=Math.max,fe=Math.min,ve=function(e,t){var n=de(e);return n<0?pe(n+t,0):fe(n,t)},be=function(e){return function(t,n,i){var r,l=y(t),o=he(l.length),a=ve(i,o);if(e&&n!=n){for(;o>a;)if((r=l[a++])!=r)return!0}else for(;o>a;a++)if((e||a in l)&&l[a]===n)return e||a||0;return!e&&-1}},ge={includes:be(!0),indexOf:be(!1)},Ae=ge.indexOf,me=function(e,t){var n,i=y(e),r=0,l=[];for(n in i)!w(X,n)&&w(i,n)&&l.push(n);for(;t.length>r;)w(i,n=t[r++])&&(~Ae(l,n)||l.push(n));return l},ye=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xe=ye.concat("length","prototype"),Ce={f:Object.getOwnPropertyNames||function(e){return me(e,xe)}},ke={f:Object.getOwnPropertySymbols},we=ae("Reflect","ownKeys")||function(e){var t=Ce.f(T(e)),n=ke.f;return n?t.concat(n(e)):t},Ee=function(e,t){for(var n=we(t),i=R.f,r=O.f,l=0;l<n.length;l++){var o=n[l];w(e,o)||i(e,o,r(t,o))}},Se=/#|\.prototype\./,Le=function(e,t){var n=_e[Be(e)];return n==Te||n!=Oe&&("function"==typeof t?c(t):!!t)},Be=Le.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},_e=Le.data={},Oe=Le.NATIVE="N",Te=Le.POLYFILL="P",Pe=Le,Re=O.f,Ne=function(e,t){var n,i,r,l,o,a=e.target,c=e.global,d=e.stat;if(n=c?s:d?s[a]||M(a,{}):(s[a]||{}).prototype)for(i in t){if(l=t[i],r=e.noTargetGet?(o=Re(n,i))&&o.value:n[i],!Pe(c?i:a+(d?".":"#")+i,e.forced)&&void 0!==r){if(typeof l==typeof r)continue;Ee(l,r)}(e.sham||r&&r.sham)&&N(l,"sham",!0),re(n,i,l,e)}},Me=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},je=function(e){return Object(m(e))},ze=Array.isArray||function(e){return"Array"==b(e)},Ie=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),He=Ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$e=V("wks"),Fe=s.Symbol,Ke=He?Fe:Fe&&Fe.withoutSetter||W,De=function(e){return w($e,e)||(Ie&&w(Fe,e)?$e[e]=Fe[e]:$e[e]=Ke("Symbol."+e)),$e[e]},Ve=De("species"),Ye=function(e,t){var n;return ze(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!ze(n.prototype)?x(n)&&null===(n=n[Ve])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Ue=[].push,We=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,l=6==e,o=5==e||l;return function(a,s,c,d){for(var u,h,p=je(a),f=A(p),v=Me(s,c,3),b=he(f.length),g=0,m=d||Ye,y=t?m(a,b):n?m(a,0):void 0;b>g;g++)if((o||g in f)&&(h=v(u=f[g],g,p),e))if(t)y[g]=h;else if(h)switch(e){case 3:return!0;case 5:return u;case 6:return g;case 2:Ue.call(y,u)}else if(r)return!1;return l?-1:i||r?r:y}},Ze={forEach:We(0),map:We(1),filter:We(2),some:We(3),every:We(4),find:We(5),findIndex:We(6)},Ge=function(e,t){var n=[][e];return!!n&&c((function(){n.call(null,t||function(){throw 1},1)}))},Xe=Object.defineProperty,qe={},Qe=function(e){throw e},Je=function(e,t){if(w(qe,e))return qe[e];t||(t={});var n=[][e],i=!!w(t,"ACCESSORS")&&t.ACCESSORS,r=w(t,0)?t[0]:Qe,l=w(t,1)?t[1]:void 0;return qe[e]=!!n&&!c((function(){if(i&&!d)return!0;var e={length:-1};i?Xe(e,1,{enumerable:!0,get:Qe}):e[1]=1,n.call(e,r,l)}))},et=Ze.forEach,tt=Ge("forEach"),nt=Je("forEach"),it=tt&&nt?[].forEach:function(e){return et(this,e,arguments.length>1?arguments[1]:void 0)};Ne({target:"Array",proto:!0,forced:[].forEach!=it},{forEach:it});var rt=Object.keys||function(e){return me(e,ye)};Ne({target:"Object",stat:!0,forced:c((function(){rt(1)}))},{keys:function(e){return rt(je(e))}});for(var lt in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var ot=s[lt],at=ot&&ot.prototype;if(at&&at.forEach!==it)try{N(at,"forEach",it)}catch(e){at.forEach=it}}var st,ct,dt=ae("navigator","userAgent")||"",ut=s.process,ht=ut&&ut.versions,pt=ht&&ht.v8;pt?ct=(st=pt.split("."))[0]+st[1]:dt&&(!(st=dt.match(/Edge\/(\d+)/))||st[1]>=74)&&(st=dt.match(/Chrome\/(\d+)/))&&(ct=st[1]);var ft=ct&&+ct,vt=De("species"),bt=function(e){return ft>=51||!c((function(){var t=[];return(t.constructor={})[vt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},gt=Ze.filter,At=bt("filter"),mt=Je("filter");Ne({target:"Array",proto:!0,forced:!At||!mt},{filter:function(e){return gt(this,e,arguments.length>1?arguments[1]:void 0)}});var yt=[].join,xt=A!=Object,Ct=Ge("join",",");Ne({target:"Array",proto:!0,forced:xt||!Ct},{join:function(e){return yt.call(y(this),void 0===e?",":e)}});var kt=Ze.map,wt=bt("map"),Et=Je("map");Ne({target:"Array",proto:!0,forced:!wt||!Et},{map:function(e){return kt(this,e,arguments.length>1?arguments[1]:void 0)}});var St=function(e,t,n){var i=C(t);i in e?R.f(e,i,f(0,n)):e[i]=n},Lt=De("isConcatSpreadable"),Bt=ft>=51||!c((function(){var e=[];return e[Lt]=!1,e.concat()[0]!==e})),_t=bt("concat"),Ot=function(e){if(!x(e))return!1;var t=e[Lt];return void 0!==t?!!t:ze(e)};Ne({target:"Array",proto:!0,forced:!Bt||!_t},{concat:function(e){var t,n,i,r,l,o=je(this),a=Ye(o,0),s=0;for(t=-1,i=arguments.length;t<i;t++)if(l=-1===t?o:arguments[t],Ot(l)){if(s+(r=he(l.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,s++)n in l&&St(a,s,l[n])}else{if(s>=9007199254740991)throw TypeError("Maximum allowed index exceeded");St(a,s++,l)}return a.length=s,a}});var Tt,Pt=d?Object.defineProperties:function(e,t){T(e);for(var n,i=rt(t),r=i.length,l=0;r>l;)R.f(e,n=i[l++],t[n]);return e},Rt=ae("document","documentElement"),Nt=G("IE_PROTO"),Mt=function(){},jt=function(e){return"<script>"+e+"<\/script>"},zt=function(){try{Tt=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;zt=Tt?function(e){e.write(jt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Tt):((t=L("iframe")).style.display="none",Rt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(jt("document.F=Object")),e.close(),e.F);for(var n=ye.length;n--;)delete zt.prototype[ye[n]];return zt()};X[Nt]=!0;var It=Object.create||function(e,t){var n;return null!==e?(Mt.prototype=T(e),n=new Mt,Mt.prototype=null,n[Nt]=e):n=zt(),void 0===t?n:Pt(n,t)},Ht=De("unscopables"),$t=Array.prototype;null==$t[Ht]&&R.f($t,Ht,{configurable:!0,value:It(null)});var Ft=ge.includes;Ne({target:"Array",proto:!0,forced:!Je("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return Ft(this,e,arguments.length>1?arguments[1]:void 0)}}),function(e){$t[Ht][e]=!0}("includes");var Kt=ge.indexOf,Dt=[].indexOf,Vt=!!Dt&&1/[1].indexOf(1,-0)<0,Yt=Ge("indexOf"),Ut=Je("indexOf",{ACCESSORS:!0,1:0});Ne({target:"Array",proto:!0,forced:Vt||!Yt||!Ut},{indexOf:function(e){return Vt?Dt.apply(this,arguments)||0:Kt(this,e,arguments.length>1?arguments[1]:void 0)}});var Wt=O.f,Zt=c((function(){Wt(1)}));Ne({target:"Object",stat:!0,forced:!d||Zt,sham:!d},{getOwnPropertyDescriptor:function(e,t){return Wt(y(e),t)}});var Gt,Xt,qt,Qt,Jt,en,tn,nn,rn,ln,on,an,sn,cn,dn,un,hn,pn=De("match"),fn=function(e){if(function(e){var t;return x(e)&&(void 0!==(t=e[pn])?!!t:"RegExp"==b(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},vn=De("match");function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Cn(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),e}function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?wn(e):t}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}function _n(e,t,n,i,r){var l={};return Object.keys(i).forEach((function(e){l[e]=i[e]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),l),r&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(r):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}Ne({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[vn]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~String(m(this)).indexOf(fn(e),arguments.length>1?arguments[1]:void 0)}});var On=(Gt=e({name:"VMultipleSelect"}),Xt=t({type:Array,default:function(){return[]}}),qt=t({type:Array,default:function(){return[]}}),Qt=t({type:String,default:"è¯·éæ©"}),Jt=t({type:Boolean,default:!1}),en=t({type:Boolean,default:!1}),tn=t({type:Boolean,default:!1}),nn=n("options",{immediate:!0}),rn=n("value",{deep:!0}),Gt((an=_n((on=function(e){function t(){var e,n;yn(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return mn(n=En(this,(e=Sn(t)).call.apply(e,[this].concat(r))),"value",an,wn(n)),mn(n,"options",sn,wn(n)),mn(n,"placeholder",cn,wn(n)),mn(n,"inverse",dn,wn(n)),mn(n,"filter",un,wn(n)),mn(n,"showSelect",hn,wn(n)),n.searchText="",n.onlySelected=!1,n.localOptions=[],n.visible=!1,n}return Bn(t,i),Cn(t,[{key:"optionsHandler",value:function(e){var t=this;this.localOptions=e.map((function(e){return An({},e,{checked:-1!==t.value.indexOf(e.value)})}))}},{key:"valueHandler",value:function(){var e=this;this.localOptions=this.options.map((function(t){return An({},t,{checked:-1!==e.value.indexOf(t.value)})}))}},{key:"mounted",value:function(){document.body.addEventListener("click",this.clickHandler)}},{key:"beforeDestroy",value:function(){document.body.removeEventListener("click",this.clickHandler)}},{key:"toogleVisible",value:function(){this.visible=!this.visible}},{key:"onSearchChange",value:function(e){}},{key:"onOnlySelectedChange",value:function(e){}},{key:"onClickInverse",value:function(){var e=this;this.filterOptions.length&&(this.filterOptions.forEach((function(t){e.$set(t,"checked",!t.checked)})),this.emitChange())}},{key:"onSelectedAllChange",value:function(e){var t=this;this.filterOptions.forEach((function(n){t.$set(n,"checked",e)})),this.emitChange()}},{key:"onOptionItemCheckChange",value:function(e){this.emitChange()}},{key:"clickHandler",value:function(e){this.$el.contains(e.target)||this.visible&&(this.visible=!this.visible)}},{key:"emitChange",value:function(){var e=this.localOptions.filter((function(e){return e.checked})).map((function(e){return e.value}));this.$emit("input",e),this.$emit("on-change",e)}},{key:"multipleSelectClass",get:function(){return{"vb-multiple-select":!0,"select-visible":this.visible}}},{key:"multipleSelectDropDownClass",get:function(){return{"select-dropdown":!0}}},{key:"allSelected",get:function(){return this.filterOptions.filter((function(e){return e.checked})).length===this.filterOptions.length}},{key:"allIndeterminate",get:function(){var e=this.filterOptions.length;return!!e&&this.filterSelectOptionLen>0&&this.filterSelectOptionLen<e}},{key:"filterSelectOptionLen",get:function(){return this.filterOptions.filter((function(e){return e.checked})).length}},{key:"filterOptions",get:function(){var e=this,t=this.localOptions;return this.searchText&&(t=t.filter((function(t){return-1!==t.label.indexOf(e.searchText)}))),this.onlySelected&&(t=t.filter((function(e){return e.checked}))),t}},{key:"selectedValues",get:function(){var e=this;return this.options.filter((function(t){return e.value.includes(t.value)}))}}]),t}()).prototype,"value",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=_n(on.prototype,"options",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=_n(on.prototype,"placeholder",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dn=_n(on.prototype,"inverse",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un=_n(on.prototype,"filter",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=_n(on.prototype,"showSelect",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n(on.prototype,"optionsHandler",[nn],Object.getOwnPropertyDescriptor(on.prototype,"optionsHandler"),on.prototype),_n(on.prototype,"valueHandler",[rn],Object.getOwnPropertyDescriptor(on.prototype,"valueHandler"),on.prototype),ln=on))||ln);function Tn(e,t,n,i,r,l,o,a,s,c){"boolean"!=typeof o&&(s=a,a=o,o=!1);const d="function"==typeof n?n.options:n;let u;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),i&&(d._scopeId=i),l?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(l)},d._ssrRegister=u):t&&(u=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(d.functional){const e=d.render;d.render=function(t,n){return u.call(n),e(t,n)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,u):[u]}return n}const Pn="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function Rn(e){return(e,t)=>function(e,t){const n=Pn?t.media||"default":e,i=Mn[n]||(Mn[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===Nn&&(Nn=document.head||document.getElementsByTagName("head")[0]),Nn.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const e=i.ids.size-1,t=document.createTextNode(n),r=i.element.childNodes;r[e]&&i.element.removeChild(r[e]),r.length?i.element.insertBefore(t,r[e]):i.element.appendChild(t)}}}(e,t)}let Nn;const Mn={};var jn=On,zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.multipleSelectClass},[n("div",{staticClass:"select-selection",on:{click:e.toogleVisible}},[n("div",{staticClass:"selection-content"},[e.value.length?n("span",{staticClass:"selection-selected-label"},[e._v(e._s(e.selectedValues.map((function(e){return e.label})).join(",")))]):n("span",{staticClass:"selection-placeholder"},[e._v(e._s(e.placeholder))])]),e._v(" "),n("Icon",{staticClass:"select-arrow",attrs:{type:"ios-arrow-down"}})],1),e._v(" "),n("transition",{attrs:{name:"slide-up"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"select-dropdown",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"select-operation"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.filter,expression:"filter"}],staticClass:"search-input"},[n("Input",{staticClass:"input",attrs:{size:"small",placeholder:"è¾å¥æç´¢"},on:{"on-change":e.onSearchChange},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),n("div",{staticClass:"operation"},[n("Checkbox",{attrs:{value:e.allSelected,indeterminate:e.allIndeterminate,disabled:!e.filterOptions.length},on:{"on-change":e.onSelectedAllChange}},[e._v("å¨é")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.inverse,expression:"inverse"}],staticClass:"inverse",on:{click:e.onClickInverse}},[e._v("åé")]),e._v(" "),e.showSelect?n("Checkbox",{staticClass:"select-filter",attrs:{disabled:!e.localOptions.length},on:{"on-change":e.onOnlySelectedChange},model:{value:e.onlySelected,callback:function(t){e.onlySelected=t},expression:"onlySelected"}},[e._v("åªçå·²é")]):e._e(),e._v(" "),n("span",{staticClass:"option-len"},[e._v("\n            "+e._s(e.value.length)+"/"+e._s(e.options.length)+"\n          ")])],1)]),e._v(" "),n("div",{staticClass:"select-dropdown-list"},[e.filterOptions.length?n("ul",e._l(e.filterOptions,(function(t,i){return n("li",{key:i},[n("Checkbox",{on:{"on-change":e.onOptionItemCheckChange},model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"item.checked"}},[e._v(e._s(t.label))])],1)})),0):n("div",{staticClass:"no-data"},[e._v("æ²¡ææ°æ®")])])])])],1)};zn._withStripped=!0;var In=Tn({render:zn,staticRenderFns:[]},(function(e){e&&e("data-v-3ad6deda_0",{source:".vb-multiple-select[data-v-3ad6deda] {\n  position: relative;\n}\n.vb-multiple-select.select-visible .select-selection[data-v-3ad6deda] {\n  border-color: #57a3f3;\n  outline: 0;\n  box-shadow: 0 0 0 2px rgba(45, 140, 240, 0.2);\n}\n.vb-multiple-select.select-visible .select-selection .select-arrow[data-v-3ad6deda] {\n  transform: translateY(-50%) rotate(180deg);\n}\n.vb-multiple-select .select-selection[data-v-3ad6deda] {\n  position: relative;\n  height: 32px;\n  display: block;\n  box-sizing: border-box;\n  outline: 0;\n  user-select: none;\n  cursor: pointer;\n  position: relative;\n  background-color: #fff;\n  border-radius: 4px;\n  border: 1px solid #dcdee2;\n  transition: all 0.2s ease-in-out;\n}\n.vb-multiple-select .select-selection .selection-content[data-v-3ad6deda] {\n  display: flex;\n  justify-content: space-between;\n  height: 30px;\n  line-height: 30px;\n  font-size: 14px;\n  padding-left: 8px;\n  padding-right: 24px;\n  color: #c5c8ce;\n}\n.vb-multiple-select .select-selection .selection-content .selection-selected-label[data-v-3ad6deda] {\n  flex: 1;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  color: #515a6e;\n}\n.vb-multiple-select .select-selection .select-arrow[data-v-3ad6deda] {\n  position: absolute;\n  top: 50%;\n  right: 8px;\n  line-height: 1;\n  transform: translateY(-50%);\n  font-size: 14px;\n  color: #808695;\n  transition: all 0.2s ease-in-out;\n}\n.vb-multiple-select .select-dropdown[data-v-3ad6deda] {\n  position: absolute;\n  top: 35px;\n  left: 0;\n  z-index: 900;\n  width: 100%;\n  max-width: 300px;\n  margin: 5px 0;\n  box-sizing: border-box;\n  background-color: #fff;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n}\n.vb-multiple-select .select-dropdown > .select-operation[data-v-3ad6deda] {\n  padding: 5px;\n  border-bottom: 1px solid #e4e4e4;\n  background: #f8f8f9;\n}\n.vb-multiple-select .select-dropdown > .select-operation .search-input[data-v-3ad6deda] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n.vb-multiple-select .select-dropdown > .select-operation .operation .inverse[data-v-3ad6deda] {\n  margin-left: 10px;\n  cursor: pointer;\n}\n.vb-multiple-select .select-dropdown > .select-operation .operation .inverse[data-v-3ad6deda]:hover {\n  color: #57a3f3;\n}\n.vb-multiple-select .select-dropdown > .select-operation .operation .option-len[data-v-3ad6deda] {\n  float: right;\n  color: #666;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list[data-v-3ad6deda] {\n  overflow: auto;\n  max-height: 200px;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list li[data-v-3ad6deda] {\n  height: 30px;\n  line-height: 30px;\n  padding: 0 5px;\n  cursor: pointer;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list li[data-v-3ad6deda]:hover {\n  background: #f5f5f5;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list li[data-v-3ad6deda]  .ivu-checkbox-wrapper {\n  display: block;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list .no-data[data-v-3ad6deda] {\n  height: 100px;\n  line-height: 100px;\n  text-align: center;\n  color: #808695;\n}\n\n/*# sourceMappingURL=v-multiple-select.vue.map */",map:{version:3,sources:["v-multiple-select.vue","/Users/huxiang/code/github/view-base-ui/lib/components/v-multiple-select/v-multiple-select.vue"],names:[],mappings:"AAAA;ECCA,kBAAA;ADCA;AACA;EACE,qBAAqB;EACrB,UAAU;EACV,6CAA6C;AAC/C;AACA;EACE,0CAA0C;AAC5C;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,cAAc;EACd,sBAAsB;EACtB,UAAU;EACV,iBAAiB;EACjB,eAAe;EACf,kBAAkB;EAClB,sBAAsB;EACtB,kBAAkB;EAClB,yBAAyB;EACzB,gCAAgC;AAClC;AACA;EACE,aAAa;EACb,8BAA8B;EAC9B,YAAY;EACZ,iBAAiB;EACjB,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,cAAc;AAChB;AACA;EACE,OAAO;EACP,QAAQ;EACR,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,cAAc;AAChB;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,cAAc;EACd,2BAA2B;EAC3B,eAAe;EACf,cAAc;EACd,gCAAgC;AAClC;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,YAAY;EACZ,WAAW;EACX,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,sBAAsB;EACtB,wCAAwC;EACxC,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,gCAAgC;EAChC,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,kBAAkB;AACpB;AACA;EACE,iBAAiB;EACjB,eAAe;AACjB;AACA;EACE,cAAc;AAChB;AACA;EACE,YAAY;EACZ,WAAW;AACb;AACA;EACE,cAAc;EACd,iBAAiB;AACnB;AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,cAAc;EACd,eAAe;AACjB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;EACb,kBAAkB;EAClB,kBAAkB;EAClB,cAAc;AAChB;;AAEA,gDAAgD",file:"v-multiple-select.vue",sourcesContent:[".vb-multiple-select {\n  position: relative;\n}\n.vb-multiple-select.select-visible .select-selection {\n  border-color: #57a3f3;\n  outline: 0;\n  box-shadow: 0 0 0 2px rgba(45, 140, 240, 0.2);\n}\n.vb-multiple-select.select-visible .select-selection .select-arrow {\n  transform: translateY(-50%) rotate(180deg);\n}\n.vb-multiple-select .select-selection {\n  position: relative;\n  height: 32px;\n  display: block;\n  box-sizing: border-box;\n  outline: 0;\n  user-select: none;\n  cursor: pointer;\n  position: relative;\n  background-color: #fff;\n  border-radius: 4px;\n  border: 1px solid #dcdee2;\n  transition: all 0.2s ease-in-out;\n}\n.vb-multiple-select .select-selection .selection-content {\n  display: flex;\n  justify-content: space-between;\n  height: 30px;\n  line-height: 30px;\n  font-size: 14px;\n  padding-left: 8px;\n  padding-right: 24px;\n  color: #c5c8ce;\n}\n.vb-multiple-select .select-selection .selection-content .selection-selected-label {\n  flex: 1;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  color: #515a6e;\n}\n.vb-multiple-select .select-selection .select-arrow {\n  position: absolute;\n  top: 50%;\n  right: 8px;\n  line-height: 1;\n  transform: translateY(-50%);\n  font-size: 14px;\n  color: #808695;\n  transition: all 0.2s ease-in-out;\n}\n.vb-multiple-select .select-dropdown {\n  position: absolute;\n  top: 35px;\n  left: 0;\n  z-index: 900;\n  width: 100%;\n  max-width: 300px;\n  margin: 5px 0;\n  box-sizing: border-box;\n  background-color: #fff;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n}\n.vb-multiple-select .select-dropdown > .select-operation {\n  padding: 5px;\n  border-bottom: 1px solid #e4e4e4;\n  background: #f8f8f9;\n}\n.vb-multiple-select .select-dropdown > .select-operation .search-input {\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n.vb-multiple-select .select-dropdown > .select-operation .operation .inverse {\n  margin-left: 10px;\n  cursor: pointer;\n}\n.vb-multiple-select .select-dropdown > .select-operation .operation .inverse:hover {\n  color: #57a3f3;\n}\n.vb-multiple-select .select-dropdown > .select-operation .operation .option-len {\n  float: right;\n  color: #666;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list {\n  overflow: auto;\n  max-height: 200px;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list li {\n  height: 30px;\n  line-height: 30px;\n  padding: 0 5px;\n  cursor: pointer;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list li:hover {\n  background: #f5f5f5;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list li ::v-deep .ivu-checkbox-wrapper {\n  display: block;\n}\n.vb-multiple-select .select-dropdown > .select-dropdown-list .no-data {\n  height: 100px;\n  line-height: 100px;\n  text-align: center;\n  color: #808695;\n}\n\n/*# sourceMappingURL=v-multiple-select.vue.map */",'<style lang="scss" scoped>\n@import \'./style\';\n</style>\n\n<template>\n  <div :class="multipleSelectClass">\n    <div class="select-selection"\n      @click="toogleVisible">\n      <div class="selection-content">\n        <span v-if="value.length"\n          class="selection-selected-label">{{selectedValues.map(v => v.label).join(\',\')}}</span>\n        <span class="selection-placeholder"\n          v-else>{{placeholder}}</span>\n      </div>\n      <Icon type="ios-arrow-down"\n        class="select-arrow"></Icon>\n    </div>\n    <transition name="slide-up">\n      <div v-show="visible"\n        class="select-dropdown"\n        @click.stop>\n        <div class="select-operation">\n          <div v-show="filter"\n            class="search-input">\n            <Input v-model="searchText"\n              size="small"\n              placeholder="è¾å¥æç´¢"\n              class="input"\n              @on-change="onSearchChange"></Input>\n          </div>\n          <div class="operation">\n            <Checkbox :value="allSelected"\n              :indeterminate="allIndeterminate"\n              :disabled="!filterOptions.length"\n              @on-change="onSelectedAllChange">å¨é</Checkbox>\n            <span v-show="inverse"\n              class="inverse"\n              @click="onClickInverse">åé</span>\n            <Checkbox v-if="showSelect"\n              v-model="onlySelected"\n              class="select-filter"\n              :disabled="!localOptions.length"\n              @on-change="onOnlySelectedChange">åªçå·²é</Checkbox>\n            <span class="option-len">\n              {{value.length}}/{{options.length}}\n            </span>\n            </span>\n          </div>\n        </div>\n        <div class="select-dropdown-list">\n          <ul v-if="filterOptions.length">\n            <li v-for="(item, index) in filterOptions"\n              :key="index">\n              <Checkbox v-model="item.checked"\n                @on-change="onOptionItemCheckChange">{{item.label}}</Checkbox>\n            </li>\n          </ul>\n          <div v-else\n            class="no-data">æ²¡ææ°æ®</div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script lang="ts">\nimport { Vue, Component, Prop, Watch } from \'vue-property-decorator\';\n\n@Component({ name: \'VMultipleSelect\' })\nexport default class VMultipleSelect extends Vue {\n  @Prop({ type: Array, default: () => [] }) public value!: Array<\n    string | number\n  >; // ä¼ å¥çéå®å¼\n  @Prop({ type: Array, default: () => [] })\n  public options!: MultiSelectOption[]; // ä¼ å¥çä¸æéé¡¹\n  @Prop({ type: String, default: \'è¯·éæ©\' }) public placeholder!: string;\n  @Prop({ type: Boolean, default: false }) public inverse!: boolean; // æ¯å¦å¼å¯åé\n  @Prop({ type: Boolean, default: false }) public filter!: boolean; // æ¯å¦å¼å¯æç´¢\n  @Prop({ type: Boolean, default: false }) public showSelect!: boolean; // æ¯å¦å¼å¯åªçå·²é\n\n  public searchText = \'\';\n  public onlySelected = false;\n  public localOptions: LMultiSelectOption[] = [];\n  public visible = false;\n\n  @Watch(\'options\', { immediate: true })\n  public optionsHandler(v: MultiSelectOption[]) {\n    this.localOptions = v.map(option => {\n      const checked = this.value.indexOf(option.value) !== -1;\n      return { ...option, checked };\n    });\n  }\n\n  @Watch(\'value\', { deep: true })\n  public valueHandler() {\n    this.localOptions = this.options.map(option => {\n      const checked = this.value.indexOf(option.value) !== -1;\n      return { ...option, checked };\n    });\n  }\n\n  public get multipleSelectClass() {\n    return {\n      \'vb-multiple-select\': true,\n      \'select-visible\': this.visible,\n    };\n  }\n\n  public get multipleSelectDropDownClass() {\n    return {\n      \'select-dropdown\': true,\n    };\n  }\n\n  public get allSelected() {\n    return (\n      this.filterOptions.filter(v => v.checked).length ===\n      this.filterOptions.length\n    );\n  }\n\n  public get allIndeterminate() {\n    const ol = this.filterOptions.length;\n    return (\n      !!ol && this.filterSelectOptionLen > 0 && this.filterSelectOptionLen < ol\n    );\n  }\n\n  public get filterSelectOptionLen() {\n    return this.filterOptions.filter(v => v.checked).length;\n  }\n\n  public get filterOptions() {\n    let o = this.localOptions;\n    if (this.searchText) {\n      o = o.filter(v => v.label.indexOf(this.searchText) !== -1);\n    }\n    if (this.onlySelected) {\n      o = o.filter(v => v.checked);\n    }\n    return o;\n  }\n\n  public get selectedValues() {\n    return this.options.filter(v => this.value.includes(v.value));\n  }\n\n  public mounted() {\n    document.body.addEventListener(\'click\', this.clickHandler);\n  }\n\n  public beforeDestroy() {\n    document.body.removeEventListener(\'click\', this.clickHandler);\n  }\n\n  public toogleVisible() {\n    this.visible = !this.visible;\n  }\n\n  public onSearchChange(v: string) {}\n\n  public onOnlySelectedChange(v: boolean) {}\n\n  public onClickInverse() {\n    if (!this.filterOptions.length) {\n      return;\n    }\n    this.filterOptions.forEach(o => {\n      this.$set(o, \'checked\', !o.checked);\n    });\n    this.emitChange();\n  }\n\n  /**\n   * å¨éCheckBoxååå¤ç\n   *\n   * @param {boolean} v\n   */\n  public onSelectedAllChange(v: boolean) {\n    this.filterOptions.forEach(o => {\n      this.$set(o, \'checked\', v);\n    });\n    // this.$forceUpdate();\n    this.emitChange();\n  }\n\n  /**\n   * ç¹å»éé¡¹\n   *\n   * @param {boolean} checked\n   */\n  public onOptionItemCheckChange(checked: boolean) {\n    this.emitChange();\n  }\n\n  private clickHandler(e: Event) {\n    if (this.$el.contains(e.target as any)) {\n      return;\n    }\n    if (this.visible) {\n      this.visible = !this.visible;\n    }\n  }\n\n  private emitChange() {\n    const selectedValues = this.localOptions\n      .filter(v => v.checked)\n      .map(v => v.value);\n    this.$emit(\'input\', selectedValues);\n    this.$emit(\'on-change\', selectedValues);\n  }\n}\n\ninterface MultiSelectOption {\n  label: string;\n  value: string | number;\n  [i: string]: any;\n}\n\ninterface LMultiSelectOption extends MultiSelectOption {\n  checked: boolean;\n}\n<\/script>\n\n']},media:void 0})}),jn,"data-v-3ad6deda",!1,void 0,!1,Rn,void 0,void 0),Hn=Ze.every,$n=Ge("every"),Fn=Je("every");Ne({target:"Array",proto:!0,forced:!$n||!Fn},{every:function(e){return Hn(this,e,arguments.length>1?arguments[1]:void 0)}});var Kn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return T(n),function(e){if(!x(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),Dn=function(e,t,n){var i,r;return Kn&&"function"==typeof(i=t.constructor)&&i!==n&&x(r=i.prototype)&&r!==n.prototype&&Kn(e,r),e},Vn="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",Yn=RegExp("^"+Vn+Vn+"*"),Un=RegExp(Vn+Vn+"*$"),Wn=function(e){return function(t){var n=String(m(t));return 1&e&&(n=n.replace(Yn,"")),2&e&&(n=n.replace(Un,"")),n}},Zn={start:Wn(1),end:Wn(2),trim:Wn(3)},Gn=Ce.f,Xn=O.f,qn=R.f,Qn=Zn.trim,Jn=s.Number,ei=Jn.prototype,ti="Number"==b(It(ei)),ni=function(e){var t,n,i,r,l,o,a,s,c=C(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=Qn(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=(l=c.slice(2)).length,a=0;a<o;a++)if((s=l.charCodeAt(a))<48||s>r)return NaN;return parseInt(l,i)}return+c};if(Pe("Number",!Jn(" 0o1")||!Jn("0b1")||Jn("+0x1"))){for(var ii,ri=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ri&&(ti?c((function(){ei.valueOf.call(n)})):"Number"!=b(n))?Dn(new Jn(ni(t)),n,ri):ni(t)},li=d?Gn(Jn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),oi=0;li.length>oi;oi++)w(Jn,ii=li[oi])&&!w(ri,ii)&&qn(ri,ii,Xn(Jn,ii));ri.prototype=ei,ei.constructor=ri,re(s,"Number",ri)}var ai,si,ci,di,ui,hi,pi,fi,vi,bi,gi,Ai,mi,yi,xi=bt("slice"),Ci=Je("slice",{ACCESSORS:!0,0:0,1:2}),ki=De("species"),wi=[].slice,Ei=Math.max;Ne({target:"Array",proto:!0,forced:!xi||!Ci},{slice:function(e,t){var n,i,r,l=y(this),o=he(l.length),a=ve(e,o),s=ve(void 0===t?o:t,o);if(ze(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!ze(n.prototype)?x(n)&&null===(n=n[ki])&&(n=void 0):n=void 0,n===Array||void 0===n))return wi.call(l,a,s);for(i=new(void 0===n?Array:n)(Ei(s-a,0)),r=0;a<s;a++,r++)a in l&&St(i,r,l[a]);return i.length=r,i}});var Si=(ai=e({name:"VClusterizeList"}),si=t({type:Array,default:function(){return[]}}),ci=t({type:Number,default:50}),di=t({type:Number,default:32}),ui=t({type:Number,default:4}),hi=t({type:String,default:"key"}),pi=n("data"),ai((bi=_n((vi=function(e){function t(){var e,n;yn(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return mn(n=En(this,(e=Sn(t)).call.apply(e,[this].concat(r))),"data",bi,wn(n)),mn(n,"rows",gi,wn(n)),mn(n,"itemHeight",Ai,wn(n)),mn(n,"offset",mi,wn(n)),mn(n,"dataKey",yi,wn(n)),n.firstHeight=0,n.startIndex=0,n.scrollHandler=null,n.fillContetnNun=0,n}return Bn(t,i),Cn(t,[{key:"dataHandler",value:function(e,t){var n=this;this.fillContetnNun?(this.updateProgress(e.length-t.length),this.unbindScroll(),this.data.length>this.rows&&this.bindScroll()):(this.$nextTick((function(){var e=n.$el;n.fillContetnNun=Math.ceil(e.offsetHeight/n.itemHeight)})),this.data.length>this.rows&&this.bindScroll())}},{key:"beforeDestroy",value:function(){this.unbindScroll()}},{key:"throttle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!0;return function(i){n&&(n=!1,setTimeout((function(){e(i),n=!0}),t))}}},{key:"throttleScrollHandler",value:function(e){var t=this,n=this.$el.scrollTop,i=Math.floor(n/this.localContainHeight),r=i*this.localContain;this.startIndex!==r&&(this.startIndex=r,this.firstHeight=i*this.localContainHeight,this.$nextTick((function(){t.$el.scrollTop=n})))}},{key:"logInfo",value:function(){console.log("[".concat(this.startIndex,"-").concat(this.endIndx,"]"),this.endIndx-this.localRest)}},{key:"bindScroll",value:function(){var e,t,n;this.scrollHandler=this.throttle(this.throttleScrollHandler),e="scroll",t=this.$el,n=this.scrollHandler,t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}},{key:"unbindScroll",value:function(){var e,t,n;this.scrollHandler&&(e="scroll",t=this.$el,n=this.scrollHandler,t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n),this.scrollHandler=null)}},{key:"updateProgress",value:function(e){var t=this;if(this.data.length<=this.rows&&this.startIndex){this.startIndex=0,this.firstHeight=0;var n=this.$el.scrollHeight-this.itemHeight*e;this.$nextTick((function(){t.$el.scrollTop=n}))}}},{key:"renderList",get:function(){return this.data.length<=this.rows?this.data:this.data.slice(this.startIndex,this.endIndx)}},{key:"localRest",get:function(){return this.fillContetnNun+this.offset}},{key:"localContain",get:function(){return this.rows-this.localRest}},{key:"localContainHeight",get:function(){return this.itemHeight*this.localContain}},{key:"endIndx",get:function(){return this.startIndex+this.rows}},{key:"lastHeight",get:function(){var e=(this.data.length-this.rows)*this.itemHeight-this.firstHeight;return e<0?0:e}}]),t}()).prototype,"data",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gi=_n(vi.prototype,"rows",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ai=_n(vi.prototype,"itemHeight",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi=_n(vi.prototype,"offset",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi=_n(vi.prototype,"dataKey",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n(vi.prototype,"dataHandler",[pi],Object.getOwnPropertyDescriptor(vi.prototype,"dataHandler"),vi.prototype),fi=vi))||fi),Li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"vb-clusterize-list"},[n("li",{staticClass:"clusterize-list-li-first",style:{height:e.firstHeight+"px"}}),e._v(" "),e._l(e.renderList,(function(t,i){return n("li",{key:t[e.dataKey]},[n("Checkbox",{attrs:{disabled:t.disabled||t._disabled},on:{"on-change":function(t){return e.$emit("on-change",t)}},model:{value:t._checked,callback:function(n){e.$set(t,"_checked",n)},expression:"item._checked"}},[n("span",{staticClass:"checkbox-text"},[e._v(e._s(t.label))])])],1)})),e._v(" "),n("li",{staticClass:"clusterize-list-li-last",style:{height:e.lastHeight+"px"}})],2)};Li._withStripped=!0;var Bi,_i,Oi,Ti,Pi,Ri,Ni,Mi,ji,zi,Ii,Hi,$i,Fi,Ki,Di,Vi,Yi,Ui,Wi,Zi,Gi,Xi,qi,Qi,Ji,er,tr,nr,ir=Tn({render:Li,staticRenderFns:[]},(function(e){e&&e("data-v-4c8f8001_0",{source:".vb-clusterize-list[data-v-4c8f8001] {\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n}\n.vb-clusterize-list li[data-v-4c8f8001] {\n  height: 32px;\n  line-height: 32px;\n  padding: 0 8px;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.vb-clusterize-list li[data-v-4c8f8001]:hover {\n  background: #f3f3f3;\n}\n\n/*# sourceMappingURL=v-clusterize-list.vue.map */",map:{version:3,sources:["v-clusterize-list.vue","/Users/huxiang/code/github/view-base-ui/lib/components/v-transfer-box/v-clusterize-list/v-clusterize-list.vue"],names:[],mappings:"AAAA;ECCA,kBAAA;EDCE,YAAY;EACZ,gBAAgB;AAClB;AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;EACE,mBAAmB;AACrB;;AAEA,gDAAgD",file:"v-clusterize-list.vue",sourcesContent:[".vb-clusterize-list {\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n}\n.vb-clusterize-list li {\n  height: 32px;\n  line-height: 32px;\n  padding: 0 8px;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.vb-clusterize-list li:hover {\n  background: #f3f3f3;\n}\n\n/*# sourceMappingURL=v-clusterize-list.vue.map */",'<style scoped lang="scss">\n@import \'./style.scss\';\n</style>\n\n<template>\n  <ul class="vb-clusterize-list">\n    <li :style="{\'height\': `${firstHeight}px`}"\n      class="clusterize-list-li-first"></li>\n    <li v-for="(item, index) in renderList"\n      :key="item[dataKey]">\n      <Checkbox v-model="item._checked"\n        :disabled="item.disabled || item._disabled"\n        @on-change="$emit(\'on-change\', $event)">\n        <span class="checkbox-text">{{item.label}}</span>\n      </Checkbox>\n    </li>\n    <li :style="{\'height\': `${lastHeight}px`}"\n      class="clusterize-list-li-last"></li>\n  </ul>\n</template>\n\n<script lang="ts">\nimport { Vue, Component, Prop, Watch } from \'vue-property-decorator\';\nimport { on, off } from \'../../../utils\';\n\n@Component({ name: \'VClusterizeList\' })\nexport default class VClusterizeList extends Vue {\n  @Prop({ type: Array, default: () => [] }) public data!: any[];\n  @Prop({ type: Number, default: 50 }) public rows!: number; // æ¾å¤å°è¡\n  @Prop({ type: Number, default: 32 }) public itemHeight!: number; // ä¸è¡çé«åº¦\n  @Prop({ type: Number, default: 4 }) public offset!: number; // è·ç¦»ä¸ä¸è¿å©å¤å°è·åä¸ä¸æªæ°æ®\n  @Prop({ type: String, default: \'key\' }) public dataKey!: string; // ç©¿æ¢­æ¡ç´¢å¼keyå¼ãå¯ä¸å¼\n\n  public firstHeight = 0;\n  public startIndex = 0;\n  private scrollHandler: any = null;\n  private fillContetnNun = 0; // å ä¸ªitemè½æç¶çº§å¯è§åºåå¡æ»¡\n\n  public get renderList() {\n    return this.data.length <= this.rows\n      ? this.data\n      : this.data.slice(this.startIndex, this.endIndx);\n  }\n\n  // åå®¹å¡«åå ä¸åç§»é\n  public get localRest() {\n    return this.fillContetnNun + this.offset;\n  }\n  public get localContain() {\n    return this.rows - this.localRest;\n  }\n  public get localContainHeight() {\n    return this.itemHeight * this.localContain;\n  }\n  // æªåæ°ç»çç»æç´¢å¼\n  public get endIndx() {\n    return this.startIndex + this.rows;\n  }\n  // è®¡ç®æåºå±çé«åº¦\n  public get lastHeight() {\n    const h =\n      (this.data.length - this.rows) * this.itemHeight - this.firstHeight;\n    return h < 0 ? 0 : h;\n  }\n\n  @Watch(\'data\')\n  public dataHandler(newData: any[], oldData: any[]) {\n    if (!this.fillContetnNun) {\n      this.$nextTick(() => {\n        const el = this.$el as HTMLUListElement;\n        this.fillContetnNun = Math.ceil(el.offsetHeight / this.itemHeight); // 10;\n      });\n      if (this.data.length > this.rows) {\n        this.bindScroll();\n      }\n    } else {\n      this.updateProgress(newData.length - oldData.length);\n      this.unbindScroll();\n      if (this.data.length > this.rows) {\n        this.bindScroll();\n      }\n    }\n  }\n\n  public beforeDestroy() {\n    this.unbindScroll();\n  }\n\n  private throttle(fn: any, delay: number = 10) {\n    let valid = true;\n    return (e: any) => {\n      if (!valid) {\n        return;\n      }\n      valid = false;\n      setTimeout(() => {\n        fn(e);\n        valid = true;\n      }, delay);\n    };\n  }\n\n  private throttleScrollHandler(e: any) {\n    const elScrollTop = this.$el.scrollTop;\n    const step = Math.floor(elScrollTop / this.localContainHeight);\n    const newIndex = step * this.localContain;\n    if (this.startIndex !== newIndex) {\n      this.startIndex = newIndex;\n      this.firstHeight = step * this.localContainHeight;\n\n      this.$nextTick(() => {\n        // this.logInfo();\n        this.$el.scrollTop = elScrollTop;\n      });\n    }\n  }\n\n  private logInfo() {\n    console.log(\n      `[${this.startIndex}-${this.endIndx}]`,\n      this.endIndx - this.localRest,\n    );\n  }\n\n  private bindScroll() {\n    this.scrollHandler = this.throttle(this.throttleScrollHandler);\n    on(\'scroll\', this.$el, this.scrollHandler);\n  }\n\n  private unbindScroll() {\n    if (this.scrollHandler) {\n      off(\'scroll\', this.$el, this.scrollHandler);\n      this.scrollHandler = null;\n    }\n  }\n\n  /**\n   * æ´æ°æ»å¨æ¡\n   *\n   * @private\n   * @param {number} changeLen\n   */\n  private updateProgress(changeLen: number) {\n    // æ°æ®æ¯å¦å°äºè§¦åç¹\n    if (this.data.length <= this.rows) {\n      if (this.startIndex) {\n        this.startIndex = 0;\n        this.firstHeight = 0;\n        const scrollTop = this.$el.scrollHeight - this.itemHeight * changeLen;\n        this.$nextTick(() => {\n          this.$el.scrollTop = scrollTop;\n        });\n      }\n    }\n  }\n}\n<\/script>']},media:void 0})}),Si,"data-v-4c8f8001",!1,void 0,!1,Rn,void 0,void 0),rr=(Bi=e({name:"VTransferBox",components:{Checkbox:r,ClusterizeList:ir}}),_i=t({type:Array,default:function(){return[]}}),Oi=t({type:Array,default:function(){return[]}}),Ti=t({type:String,default:"key"}),Pi=t({type:Array,default:function(){return[]}}),Ri=t({type:Function}),Ni=t({type:Boolean,default:!1}),Mi=t({type:Boolean,default:!1}),ji=t({type:Number,default:0}),zi=t({type:Function}),Ii=t({type:[String,Array],default:"è¯·è¾å¥åå®¹æç´¢"}),Hi=t({type:Number,default:0}),$i=t({type:String,default:""}),Fi=n("data"),Ki=n("leftFilterName"),Bi((Yi=_n((Vi=function(e){function t(){var e,n;yn(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return mn(n=En(this,(e=Sn(t)).call.apply(e,[this].concat(r))),"data",Yi,wn(n)),mn(n,"targetKeys",Ui,wn(n)),mn(n,"dataKey",Wi,wn(n)),mn(n,"titles",Zi,wn(n)),mn(n,"renderFormat",Gi,wn(n)),mn(n,"filter",Xi,wn(n)),mn(n,"remote",qi,wn(n)),mn(n,"remoteLen",Qi,wn(n)),mn(n,"remoteMethod",Ji,wn(n)),mn(n,"filterPlaceholder",er,wn(n)),mn(n,"max",tr,wn(n)),mn(n,"maxTip",nr,wn(n)),n.transferList=[],n.leftFilterName="",n.rightFilterName="",n.selectAllLeft=!1,n.selectAllRight=!1,n.showRemote=!1,n.remoteTimeout=0,n}return Bn(t,i),Cn(t,[{key:"dataHandler",value:function(e){var t=this;e&&e.length&&(this.transferList=e.map((function(e,n){var i,r=e[t.dataKey]||"key-".concat(n),l=!1;return t.overMax&&(l=t.isMatchUnSelected(e)),bn(i={label:t.renderLabel(e)},t.dataKey,r),bn(i,"disabled",e.disabled),bn(i,"_checked",!1),bn(i,"_disabled",l),i})))}},{key:"leftFilterNameHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.$emit("on-filter-change",{type:1,value:t}),this.selectAllLeft&&(this.selectAllLeft=!1),this.onSelectLeftAllChange(!1),this.remote){if(!this.remoteMethod)return this.$Message.warning("æªå®ä¹remoteMethod");if(t.length<this.remoteLen)return;this.showRemote=!0,this.remoteTimeout&&clearTimeout(this.remoteTimeout),this.remoteTimeout=window.setTimeout((function(){e.remoteMethod(t).then((function(){e.showRemote=!1,e.$emit("on-remote-success"),e.$emit("on-remote-finish")})).catch((function(){e.showRemote=!1,e.$emit("on-remote-failed"),e.$emit("on-remote-finish")}))}),300)}else this.$nextTick((function(){e.isOverMax()}))}},{key:"onSelectLeftAllChange",value:function(e){var t=this.unSelectedList.length,n=this.targetKeys.length;if(this.max&&e&&t+n>=this.max){var i=this.max-n,r=this.unSelectedList.filter((function(e){return!e._checked}));i-=t-r.length,r.forEach((function(e,t){e.disabled||(i>0?(i--,e._checked=!0):e._disabled=!0)}))}else this.unSelectedList.forEach((function(t){t.disabled||(t._checked=e)}));this.isOverMax()}},{key:"onLeftCheckboxChange",value:function(e){this.isOverMax(),e?this.unSelectedAndNoDisabledList.every((function(e){return e._checked}))&&(this.selectAllLeft=!0):this.selectAllLeft=!1}},{key:"moveToSelected",value:function(){var e=this;this.selectAllLeft=!1;var t=[];this.unSelectedList.forEach((function(n){n._checked&&(t.push(n[e.dataKey]),e.$set(n,"_checked",!1))})),this.$emit("on-change",this.targetKeys.concat(t))}},{key:"moveToUnselected",value:function(){var e=this;this.selectAllRight=!1;var t=[];this.selectedList.forEach((function(n){n._checked&&(t.push(n[e.dataKey]),e.$set(n,"_checked",!1))}));var n=this.targetKeys.filter((function(e){return!t.includes(e)}));this.$emit("on-change",n),this.$nextTick((function(){e.isOverMax()}))}},{key:"onSelectRightAllChange",value:function(e){var t=this;this.selectedList.forEach((function(n){e?t.notDisabled(n)&&(n._checked=!0):n._checked=!1}))}},{key:"onRightSearchChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$emit("on-filter-change",{type:2,value:e}),this.selectAllRight&&(this.selectAllRight=!1),this.onSelectRightAllChange(!1)}},{key:"onRightCheckboxChange",value:function(e){e?this.selectedList.filter((function(e){return e._checked&&!e.disabled})).length===this.selectedList.filter((function(e){return!e.disabled})).length&&(this.selectAllRight=e):this.selectAllRight=e}},{key:"renderLabel",value:function(e){return this.renderFormat?this.renderFormat(e):e.label||""}},{key:"isOverMax",value:function(){this.max&&(this.targetKeys.length+this.leftSelectedLength>=this.max?this.unSelectedList.forEach((function(e){e._checked||(e._disabled=!0)})):this.unSelectedList.forEach((function(e){e._disabled=!1})))}},{key:"isMatchSelected",value:function(e){return-1!==this.S_T_K.indexOf(e[this.dataKey])&&-1!==e.label.indexOf(this.rightFilterName)}},{key:"isMatchUnSelected",value:function(e){return-1===this.S_T_K.indexOf(e[this.dataKey])&&-1!==e.label.indexOf(this.leftFilterName)}},{key:"notDisabled",value:function(e){var t=e.disabled,n=e._disabled;return!t&&!n}},{key:"leftFilterPlaceholder",get:function(){return"string"==typeof this.filterPlaceholder?this.filterPlaceholder:this.filterPlaceholder[0]}},{key:"rightFilterPlaceholder",get:function(){return"string"==typeof this.filterPlaceholder?this.filterPlaceholder:this.filterPlaceholder[1]}},{key:"S_T_K",get:function(){return this.targetKeys.join(",")}},{key:"unSelectedList",get:function(){var e=this;return this.transferList.filter((function(t){return e.isMatchUnSelected(t)}))}},{key:"unSelectedAndNoDisabledList",get:function(){var e=this;return this.unSelectedList.filter((function(t){return e.notDisabled(t)}))}},{key:"selectedList",get:function(){var e=this;return this.transferList.filter((function(t){return e.isMatchSelected(t)}))}},{key:"selectedAndNoDisabledList",get:function(){var e=this;return this.selectedList.filter((function(t){return e.notDisabled(t)}))}},{key:"indeterminateLeft",get:function(){var e=this.unSelectedList.filter((function(e){return e._checked})).length;return e>0&&e<this.unSelectedAndNoDisabledList.length}},{key:"indeterminateRight",get:function(){var e=this.selectedList.filter((function(e){return e._checked})).length;return e>0&&e<this.selectedAndNoDisabledList.length}},{key:"leftSelectedLength",get:function(){return this.unSelectedList.filter((function(e){return e._checked})).length}},{key:"rightSelectedLength",get:function(){return this.selectedList.filter((function(e){return e._checked})).length}},{key:"localFilter",get:function(){return this.filter||this.remote}},{key:"overMax",get:function(){return!!this.max&&this.targetKeys.length>=this.max}},{key:"disabledAllLeft",get:function(){return this.unSelectedList.every((function(e){return e._disabled||e.disabled}))}},{key:"disabledAllRight",get:function(){return this.selectedList.every((function(e){return e.disabled}))}}]),t}()).prototype,"data",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=_n(Vi.prototype,"targetKeys",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=_n(Vi.prototype,"dataKey",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zi=_n(Vi.prototype,"titles",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi=_n(Vi.prototype,"renderFormat",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xi=_n(Vi.prototype,"filter",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qi=_n(Vi.prototype,"remote",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qi=_n(Vi.prototype,"remoteLen",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ji=_n(Vi.prototype,"remoteMethod",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=_n(Vi.prototype,"filterPlaceholder",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=_n(Vi.prototype,"max",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=_n(Vi.prototype,"maxTip",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n(Vi.prototype,"dataHandler",[Fi],Object.getOwnPropertyDescriptor(Vi.prototype,"dataHandler"),Vi.prototype),_n(Vi.prototype,"leftFilterNameHandler",[Ki],Object.getOwnPropertyDescriptor(Vi.prototype,"leftFilterNameHandler"),Vi.prototype),Di=Vi))||Di),lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vb-transfer-box"},[n("div",{staticClass:"source-card "},[n("div",{staticClass:"header"},[n("Checkbox",{attrs:{disabled:e.disabledAllLeft,indeterminate:e.indeterminateLeft},on:{"on-change":e.onSelectLeftAllChange},model:{value:e.selectAllLeft,callback:function(t){e.selectAllLeft=t},expression:"selectAllLeft"}},[n("span",{staticClass:"checkbox-text"},[e._v(e._s(e.titles[0]||"å¾éæ¡"))])]),e._v(" "),n("span",[e._v(e._s(e.leftSelectedLength?e.leftSelectedLength+" / ":"")+e._s(e.unSelectedList.length?e.unSelectedList.length:""))])],1),e._v(" "),e.localFilter?n("div",{staticClass:"search-input"},[n("Input",{attrs:{suffix:"ios-search",placeholder:e.leftFilterPlaceholder},model:{value:e.leftFilterName,callback:function(t){e.leftFilterName=t},expression:"leftFilterName"}})],1):e._e(),e._v(" "),n("div",{class:["content",e.localFilter?"filter-content":""]},[n("ClusterizeList",{directives:[{name:"show",rawName:"v-show",value:!e.showRemote&&e.unSelectedList.length,expression:"!showRemote && unSelectedList.length"}],key:e.dataKey,attrs:{data:e.unSelectedList},on:{"on-change":e.onLeftCheckboxChange}}),e._v(" "),!e.localFilter||e.showRemote||e.unSelectedList.length?e._e():n("div",{staticClass:"message-wrapper"},[n("span",{staticClass:"no-data-message"},[n("Icon",{attrs:{type:"md-document"}}),e._v("æ æ°æ®\n        ")],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showRemote,expression:"showRemote"}],staticClass:"message-wrapper"},[n("span",{staticClass:"remote-message"},[n("Icon",{attrs:{type:"ios-search"}}),e._v("æ­£å¨æç´¢...\n        ")],1)])],1)]),e._v(" "),n("div",{staticClass:"action-button"},[e._t("extraAction"),e._v(" "),n("Button",{attrs:{icon:"ios-arrow-forward",type:"primary",disabled:e.overMax||!e.leftSelectedLength},on:{click:e.moveToSelected}},[e._v("ç§»è³å·²é")]),e._v(" "),n("Button",{attrs:{icon:"ios-arrow-back",type:"primary",disabled:!e.rightSelectedLength},on:{click:e.moveToUnselected}},[e._v("ç§»è³å¾é")]),e._v(" "),e.max?n("div",{staticClass:"tip"},[e._v(e._s(e.maxTip||"ä¸é"+e.max+"é¡¹"))]):e._e()],2),e._v(" "),n("div",{staticClass:"target-card"},[n("div",{staticClass:"header"},[n("Checkbox",{attrs:{disabled:e.disabledAllRight,indeterminate:e.indeterminateRight},on:{"on-change":e.onSelectRightAllChange},model:{value:e.selectAllRight,callback:function(t){e.selectAllRight=t},expression:"selectAllRight"}},[n("span",{staticClass:"checkbox-text"},[e._v(e._s(e.titles[1]||"å·²éæ¡"))])]),e._v(" "),n("span",[e._v(e._s(e.rightSelectedLength?e.rightSelectedLength+" / ":"")),n("span",{style:{color:e.overMax?"#ed4014":""}},[e._v(e._s(e.selectedList.length?e.selectedList.length:""))])])],1),e._v(" "),e.localFilter?n("div",{staticClass:"search-input"},[n("Input",{attrs:{suffix:"ios-search",placeholder:e.rightFilterPlaceholder},on:{"on-change":e.onRightSearchChange},model:{value:e.rightFilterName,callback:function(t){e.rightFilterName=t},expression:"rightFilterName"}})],1):e._e(),e._v(" "),n("div",{class:["content",e.localFilter?"filter-content":""]},[n("ClusterizeList",{key:e.dataKey,attrs:{data:e.selectedList},on:{"on-change":e.onRightCheckboxChange}})],1)])])};lr._withStripped=!0;var or=Tn({render:lr,staticRenderFns:[]},(function(e){e&&e("data-v-3d1d5866_0",{source:".vb-transfer-box[data-v-3d1d5866] {\n  display: flex;\n  align-items: center;\n  height: 400px;\n  background: #ffffff;\n}\n.vb-transfer-box .source-card[data-v-3d1d5866],\n.vb-transfer-box .target-card[data-v-3d1d5866] {\n  position: relative;\n  width: 300px;\n  height: 100%;\n  border: 1px solid #e4e4e4;\n  border-radius: 4px;\n}\n.vb-transfer-box .source-card .header[data-v-3d1d5866],\n.vb-transfer-box .target-card .header[data-v-3d1d5866] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 40px;\n  padding: 0 8px;\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9fafc;\n}\n.vb-transfer-box .source-card .search-input[data-v-3d1d5866],\n.vb-transfer-box .target-card .search-input[data-v-3d1d5866] {\n  position: absolute;\n  top: 48px;\n  left: 0;\n  width: 100%;\n  padding: 0 8px;\n}\n.vb-transfer-box .source-card .content[data-v-3d1d5866],\n.vb-transfer-box .target-card .content[data-v-3d1d5866] {\n  height: 100%;\n  padding-top: 50px;\n}\n.vb-transfer-box .source-card .content.filter-content[data-v-3d1d5866],\n.vb-transfer-box .target-card .content.filter-content[data-v-3d1d5866] {\n  padding-top: 90px;\n}\n.vb-transfer-box .source-card .content ul[data-v-3d1d5866],\n.vb-transfer-box .target-card .content ul[data-v-3d1d5866] {\n  height: 100%;\n  overflow-y: auto;\n}\n.vb-transfer-box .source-card .content ul li[data-v-3d1d5866],\n.vb-transfer-box .target-card .content ul li[data-v-3d1d5866] {\n  height: 32px;\n  line-height: 32px;\n  padding: 0 8px;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.vb-transfer-box .source-card .content ul li[data-v-3d1d5866]:hover,\n.vb-transfer-box .target-card .content ul li[data-v-3d1d5866]:hover {\n  background: #f3f3f3;\n}\n.vb-transfer-box .source-card .message-wrapper[data-v-3d1d5866],\n.vb-transfer-box .target-card .message-wrapper[data-v-3d1d5866] {\n  position: relative;\n  z-index: 10;\n  height: 100%;\n  width: 100%;\n}\n.vb-transfer-box .source-card .message-wrapper .no-data-message[data-v-3d1d5866],\n.vb-transfer-box .source-card .message-wrapper .remote-message[data-v-3d1d5866],\n.vb-transfer-box .target-card .message-wrapper .no-data-message[data-v-3d1d5866],\n.vb-transfer-box .target-card .message-wrapper .remote-message[data-v-3d1d5866] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  background: #ffffff;\n  color: #808695;\n  font-size: 14px;\n}\n.vb-transfer-box[data-v-3d1d5866]  .checkbox-text {\n  padding-left: 8px;\n}\n.vb-transfer-box .action-button[data-v-3d1d5866] {\n  padding: 0 10px;\n}\n.vb-transfer-box .action-button button[data-v-3d1d5866] {\n  margin: 10px 0;\n  display: block;\n}\n.vb-transfer-box .action-button .tip[data-v-3d1d5866] {\n  text-align: center;\n  font-size: 12px;\n  color: #808695;\n}\n\n/*# sourceMappingURL=v-transfer-box.vue.map */",map:{version:3,sources:["v-transfer-box.vue","/Users/huxiang/code/github/view-base-ui/lib/components/v-transfer-box/v-transfer-box.vue"],names:[],mappings:"AAAA;ECCA,aAAA;EDCE,mBAAmB;EACnB,aAAa;EACb,mBAAmB;AACrB;AACA;;EAEE,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;AACpB;AACA;;EAEE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,YAAY;EACZ,cAAc;EACd,gCAAgC;EAChC,mBAAmB;AACrB;AACA;;EAEE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,WAAW;EACX,cAAc;AAChB;AACA;;EAEE,YAAY;EACZ,iBAAiB;AACnB;AACA;;EAEE,iBAAiB;AACnB;AACA;;EAEE,YAAY;EACZ,gBAAgB;AAClB;AACA;;EAEE,YAAY;EACZ,iBAAiB;EACjB,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;;EAEE,mBAAmB;AACrB;AACA;;EAEE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,WAAW;AACb;AACA;;;;EAIE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,cAAc;EACd,eAAe;AACjB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,eAAe;AACjB;AACA;EACE,cAAc;EACd,cAAc;AAChB;AACA;EACE,kBAAkB;EAClB,eAAe;EACf,cAAc;AAChB;;AAEA,6CAA6C",file:"v-transfer-box.vue",sourcesContent:[".vb-transfer-box {\n  display: flex;\n  align-items: center;\n  height: 400px;\n  background: #ffffff;\n}\n.vb-transfer-box .source-card,\n.vb-transfer-box .target-card {\n  position: relative;\n  width: 300px;\n  height: 100%;\n  border: 1px solid #e4e4e4;\n  border-radius: 4px;\n}\n.vb-transfer-box .source-card .header,\n.vb-transfer-box .target-card .header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 40px;\n  padding: 0 8px;\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9fafc;\n}\n.vb-transfer-box .source-card .search-input,\n.vb-transfer-box .target-card .search-input {\n  position: absolute;\n  top: 48px;\n  left: 0;\n  width: 100%;\n  padding: 0 8px;\n}\n.vb-transfer-box .source-card .content,\n.vb-transfer-box .target-card .content {\n  height: 100%;\n  padding-top: 50px;\n}\n.vb-transfer-box .source-card .content.filter-content,\n.vb-transfer-box .target-card .content.filter-content {\n  padding-top: 90px;\n}\n.vb-transfer-box .source-card .content ul,\n.vb-transfer-box .target-card .content ul {\n  height: 100%;\n  overflow-y: auto;\n}\n.vb-transfer-box .source-card .content ul li,\n.vb-transfer-box .target-card .content ul li {\n  height: 32px;\n  line-height: 32px;\n  padding: 0 8px;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.vb-transfer-box .source-card .content ul li:hover,\n.vb-transfer-box .target-card .content ul li:hover {\n  background: #f3f3f3;\n}\n.vb-transfer-box .source-card .message-wrapper,\n.vb-transfer-box .target-card .message-wrapper {\n  position: relative;\n  z-index: 10;\n  height: 100%;\n  width: 100%;\n}\n.vb-transfer-box .source-card .message-wrapper .no-data-message,\n.vb-transfer-box .source-card .message-wrapper .remote-message,\n.vb-transfer-box .target-card .message-wrapper .no-data-message,\n.vb-transfer-box .target-card .message-wrapper .remote-message {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  background: #ffffff;\n  color: #808695;\n  font-size: 14px;\n}\n.vb-transfer-box ::v-deep .checkbox-text {\n  padding-left: 8px;\n}\n.vb-transfer-box .action-button {\n  padding: 0 10px;\n}\n.vb-transfer-box .action-button button {\n  margin: 10px 0;\n  display: block;\n}\n.vb-transfer-box .action-button .tip {\n  text-align: center;\n  font-size: 12px;\n  color: #808695;\n}\n\n/*# sourceMappingURL=v-transfer-box.vue.map */",'<style lang="scss" scoped>\n@import \'./style.scss\';\n</style>\n\n<template>\n  <div class="vb-transfer-box">\n    <div class="source-card ">\n      \x3c!-- å·¦ä¾§å¤´ --\x3e\n      <div class="header">\n        <Checkbox v-model="selectAllLeft"\n          :disabled="disabledAllLeft"\n          :indeterminate="indeterminateLeft"\n          @on-change="onSelectLeftAllChange"><span class="checkbox-text">{{titles[0] || \'å¾éæ¡\'}}</span></Checkbox>\n        <span>{{leftSelectedLength ? `${leftSelectedLength} / ` : \'\'}}{{unSelectedList.length ? unSelectedList.length : \'\'}}</span>\n      </div>\n      \x3c!-- å·¦ä¾§æç´¢ --\x3e\n      <div v-if="localFilter"\n        class="search-input">\n        <Input v-model="leftFilterName"\n          suffix="ios-search"\n          :placeholder="leftFilterPlaceholder"></Input>\n      </div>\n      \x3c!-- å·¦ä¾§éé¡¹æ¡ --\x3e\n      <div :class="[\'content\', localFilter ? \'filter-content\' : \'\']">\n        <ClusterizeList v-show="!showRemote && unSelectedList.length"\n          :data="unSelectedList"\n          :key="dataKey"\n          @on-change="onLeftCheckboxChange"></ClusterizeList>\n        <div v-if="localFilter && !showRemote && !unSelectedList.length"\n          class="message-wrapper">\n          <span class="no-data-message">\n            <Icon type="md-document" />æ æ°æ®\n          </span>\n        </div>\n        <div v-show="showRemote"\n          class="message-wrapper">\n          <span class="remote-message">\n            <Icon type="ios-search"></Icon>æ­£å¨æç´¢...\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class="action-button">\n      \x3c!-- é¢å¤çæä½æ¡ --\x3e\n      <slot name="extraAction"></slot>\n      <Button icon="ios-arrow-forward"\n        type="primary"\n        :disabled="overMax || !leftSelectedLength"\n        @click="moveToSelected">ç§»è³å·²é</Button>\n      <Button icon="ios-arrow-back"\n        type="primary"\n        :disabled="!rightSelectedLength"\n        @click="moveToUnselected">ç§»è³å¾é</Button>\n      <div v-if="max"\n        class="tip">{{maxTip || `ä¸é${max}é¡¹`}}</div>\n    </div>\n    <div class="target-card">\n      \x3c!-- å³ä¾§å¤´ --\x3e\n      <div class="header">\n        <Checkbox v-model="selectAllRight"\n          :disabled="disabledAllRight"\n          :indeterminate="indeterminateRight"\n          @on-change="onSelectRightAllChange"><span class="checkbox-text">{{titles[1] || \'å·²éæ¡\'}}</span></Checkbox>\n        <span>{{rightSelectedLength ? `${rightSelectedLength} / ` : \'\'}}<span :style="{\'color\': overMax ? \'#ed4014\': \'\' }">{{selectedList.length ? selectedList.length : \'\'}}</span></span>\n      </div>\n      \x3c!-- å³ä¾§æç´¢ --\x3e\n      <div v-if="localFilter"\n        class="search-input">\n        <Input v-model="rightFilterName"\n          suffix="ios-search"\n          :placeholder="rightFilterPlaceholder"\n          @on-change="onRightSearchChange"></Input>\n      </div>\n      \x3c!-- å³ä¾§ç­éæ¡ --\x3e\n      <div :class="[\'content\', localFilter ? \'filter-content\' : \'\']">\n        \x3c!-- <ul>\n        <li v-for="(item, index) in selectedList"\n          :key="index">\n          <Checkbox v-model="item._checked"\n            :disabled="item.disabled"\n            @on-change="onRightCheckboxChange">\n            <span v-html="renderLabel(item)"\n              class="checkbox-text"></span>\n          </Checkbox>\n        </li>\n      </ul> --\x3e\n        <ClusterizeList :data="selectedList"\n          :key="dataKey"\n          @on-change="onRightCheckboxChange"></ClusterizeList>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport { Vue, Component, Prop, Watch } from \'vue-property-decorator\';\nimport ClusterizeList from \'./v-clusterize-list\';\nimport { Checkbox } from \'view-design\';\n\n@Component({\n  name: \'VTransferBox\',\n  components: { Checkbox, ClusterizeList },\n})\nexport default class VTransferBox extends Vue {\n  @Prop({ type: Array, default: () => [] }) public data!: any[]; // ç©¿æ¢­æ¡æ°æ®\n  @Prop({ type: Array, default: () => [] }) public targetKeys!: string[]; // å·²éçkeys\n  @Prop({ type: String, default: \'key\' }) public dataKey!: string; // ç©¿æ¢­æ¡ç´¢å¼keyå¼ãå¯ä¸å¼\n  @Prop({ type: Array, default: () => [] }) public titles!: string[]; // æ é¢\n  @Prop({ type: Function }) public renderFormat!: (data: any) => string; // æ ¼å¼ååç§°\n  @Prop({ type: Boolean, default: false }) public filter!: boolean; // æ¯å¦å¼å¯æç´¢\n  @Prop({ type: Boolean, default: false }) public remote!: boolean; // æ¯å¦å¼å¯è¿ç¨æç´¢\n  @Prop({ type: Number, default: 0 }) public remoteLen!: number; // éè¦è¾å¥å ä¸ªå­ç¬¦è§¦åè¿ç¨æç´¢\n  @Prop({ type: Function }) public remoteMethod!: (\n    name: string,\n  ) => Promise<any>; // è¿ç¨æç´¢æ¹æ³ï¼è¿åä¸ä¸ªpromiseã\n  @Prop({ type: [String, Array], default: \'è¯·è¾å¥åå®¹æç´¢\' })\n  public filterPlaceholder!: string; // æç´¢æ¡placeholder\n  @Prop({ type: Number, default: 0 }) public max!: number; // æå¤§äººæ°\n  @Prop({ type: String, default: \'\' }) public maxTip!: string; // æå¤§ä¸éæç¤º\n\n  public transferList: TransferList[] = []; // ç»ä»¶åé¨æ°æ®\n  public leftFilterName = \'\'; // å·¦ä¾§æ¨¡ç³æç´¢åç§°\n  public rightFilterName = \'\'; // å³ä¾§æ¨¡ç³æç´¢åç§°\n  public selectAllLeft = false; // å·¦ä¾§å¨é\n  public selectAllRight = false; // å³ä¾§å¨é\n  public showRemote = false; // æ¯å¦æ¾ç¤ºæ­£å¨è¿ç¨æç´¢\n  private remoteTimeout = 0;\n\n  public get leftFilterPlaceholder() {\n    return typeof this.filterPlaceholder === \'string\'\n      ? this.filterPlaceholder\n      : this.filterPlaceholder[0];\n  }\n\n  public get rightFilterPlaceholder() {\n    return typeof this.filterPlaceholder === \'string\'\n      ? this.filterPlaceholder\n      : this.filterPlaceholder[1];\n  }\n  public get S_T_K() {\n    return this.targetKeys.join(\',\');\n  }\n  // å¾éå¹¶å¹éæç´¢çç¨æ·ä¿¡æ¯\n  public get unSelectedList() {\n    return this.transferList.filter(v => this.isMatchUnSelected(v));\n  }\n\n  // å¾éå¹¶ä¸æªè¢«ç¦ç¨çlist\n  public get unSelectedAndNoDisabledList() {\n    return this.unSelectedList.filter(v => this.notDisabled(v));\n  }\n\n  // å·²ç»ç§»å¥å·²éå¹¶å¹éæç´¢çç¨æ·ä¿¡æ¯\n  public get selectedList() {\n    return this.transferList.filter(v => this.isMatchSelected(v));\n  }\n\n  // å·²éå¹¶ä¸æªè¢«ç¦ç¨çlist\n  public get selectedAndNoDisabledList() {\n    return this.selectedList.filter(v => this.notDisabled(v));\n  }\n\n  public get indeterminateLeft() {\n    const len = this.unSelectedList.filter(v => v._checked).length;\n    return len > 0 && len < this.unSelectedAndNoDisabledList.length;\n  }\n\n  public get indeterminateRight() {\n    const len = this.selectedList.filter(v => v._checked).length;\n    return len > 0 && len < this.selectedAndNoDisabledList.length;\n  }\n\n  public get leftSelectedLength() {\n    return this.unSelectedList.filter(v => v._checked).length;\n  }\n\n  public get rightSelectedLength() {\n    return this.selectedList.filter(v => v._checked).length;\n  }\n\n  public get localFilter() {\n    return this.filter || this.remote;\n  }\n\n  // æ¯å¦è¶åºæå¤§ä¸é\n  public get overMax() {\n    return !!this.max && this.targetKeys.length >= this.max;\n  }\n\n  public get disabledAllLeft() {\n    return this.unSelectedList.every(v => v._disabled || v.disabled);\n  }\n\n  public get disabledAllRight() {\n    return this.selectedList.every(v => v.disabled);\n  }\n\n  /**\n   * æ ¹æ®å¤é¨listæ¥è®¾ç½®æ¬å°Listæ°æ®ã\n   * è®¾ç½®å¯ä¸keyãè®¾ç½®æ¯å¦éæ©\n   * @readonly\n   */\n  @Watch(\'data\')\n  public dataHandler(data: any) {\n    if (data && data.length) {\n      this.transferList = data.map((v: any, i: number) => {\n        const keyValue = v[this.dataKey] || `key-${i}`;\n\n        // tslint:disable-next-line:variable-name\n        let _disabled = false;\n        if (this.overMax) {\n          _disabled = this.isMatchUnSelected(v);\n        }\n\n        return {\n          label: this.renderLabel(v),\n          [this.dataKey]: keyValue,\n          disabled: v.disabled,\n          _checked: false,\n          _disabled,\n        };\n      });\n    }\n  }\n\n  @Watch(\'leftFilterName\')\n  public leftFilterNameHandler(value: string = \'\') {\n    this.$emit(\'on-filter-change\', { type: 1, value });\n    if (this.selectAllLeft) {\n      this.selectAllLeft = false;\n    }\n    this.onSelectLeftAllChange(false); // æå¨ç½®ç©ºå·²ç»éä¸­çéé¡¹\n\n    // æ¯å¦æ§è¡è¿ç¨æç´¢\n    if (this.remote) {\n      if (!this.remoteMethod) {\n        return this.$Message.warning(\'æªå®ä¹remoteMethod\');\n      }\n\n      // å¤æ­æ¯å¦è¶åºäºè¿ç¨æç´¢é¿åº¦\n      if (value.length < this.remoteLen) {\n        return;\n      }\n\n      this.showRemote = true;\n\n      // å»¶è¿è§¦åè¿ç¨æç´¢\n      if (this.remoteTimeout) {\n        clearTimeout(this.remoteTimeout);\n      }\n      this.remoteTimeout = window.setTimeout(() => {\n        this.remoteMethod(value)\n          .then(() => {\n            this.showRemote = false;\n            this.$emit(\'on-remote-success\');\n            this.$emit(\'on-remote-finish\');\n          })\n          .catch(() => {\n            this.showRemote = false;\n            this.$emit(\'on-remote-failed\');\n            this.$emit(\'on-remote-finish\');\n          });\n      }, 300);\n    } else {\n      this.$nextTick(() => {\n        this.isOverMax();\n      });\n    }\n  }\n\n  /**\n   * ç¹å»å·¦ä¾§å¨é\n   *\n   * @param {boolean} value\n   */\n  public onSelectLeftAllChange(value: boolean) {\n    // const keys = this.unSelectedList.map(v => v[this.dataKey]);\n\n    const unSelectListLen = this.unSelectedList.length;\n    const selectListLen = this.targetKeys.length;\n\n    // å¦ææ¯å¨éå¹¶ä¸è®¾ç½®æå¤§å¼ä¸å½åè¶è¿æå¤§å¼èå´ï¼ ååªè½éå°æå¤§å¼\n    if (this.max && value && unSelectListLen + selectListLen >= this.max) {\n      let count = this.max - selectListLen;\n\n      const leftUnCheckes = this.unSelectedList.filter(v => !v._checked); // å·¦ä¾§æªé\n\n      count = count - (unSelectListLen - leftUnCheckes.length);\n\n      leftUnCheckes.forEach((v, i) => {\n        if (!v.disabled) {\n          if (count > 0) {\n            count--;\n            v._checked = true;\n          } else {\n            v._disabled = true;\n          }\n        }\n      });\n    } else {\n      this.unSelectedList.forEach(v => {\n        if (!v.disabled) {\n          v._checked = value;\n        }\n      });\n    }\n\n    this.isOverMax();\n  }\n\n  /**\n   * çå¬å·¦ä¾§å¾éæ¡çåå\n   *\n   * @param {boolean} value\n   * @returns\n   */\n  public onLeftCheckboxChange(value: boolean) {\n    this.isOverMax();\n    // å¤æ­æ¯å¦å¨é\n    if (!value) {\n      this.selectAllLeft = false;\n    } else if (this.unSelectedAndNoDisabledList.every(v => v._checked)) {\n      // å¤æ­æªéä¸­ä¸æªç¦ç¨çåè¡¨æ¯å¦é½éä¸­äº\n      this.selectAllLeft = true;\n    }\n  }\n\n  /**\n   * ç§»å°å·²é\n   *\n   */\n  public moveToSelected() {\n    this.selectAllLeft = false;\n    const moveKeys: string[] = [];\n    this.unSelectedList.forEach(v => {\n      if (v._checked) {\n        moveKeys.push(v[this.dataKey]);\n        this.$set(v, \'_checked\', false);\n      }\n    });\n\n    this.$emit(\'on-change\', this.targetKeys.concat(moveKeys));\n  }\n\n  /**\n   * ç§»å°å¾é\n   *\n   */\n  public moveToUnselected() {\n    this.selectAllRight = false;\n    const removedKeys: string[] = [];\n    this.selectedList.forEach(v => {\n      if (v._checked) {\n        removedKeys.push(v[this.dataKey]);\n        this.$set(v, \'_checked\', false);\n      }\n    });\n    const unRemovedKeys = this.targetKeys.filter(v => !removedKeys.includes(v));\n    this.$emit(\'on-change\', unRemovedKeys);\n\n    this.$nextTick(() => {\n      this.isOverMax(); // å¤æ­æ¯å¦è¶åºæå¤§éå¶\n    });\n  }\n\n  /**\n   * ç¹å»å³ä¾§å¨é\n   *\n   * @param {boolean} value\n   */\n  public onSelectRightAllChange(value: boolean) {\n    this.selectedList.forEach(v => {\n      if (!value) {\n        v._checked = false;\n      } else if (this.notDisabled(v)) {\n        v._checked = true;\n      }\n    });\n  }\n\n  /**\n   * å³ä¾§æç´¢changeäºä»¶\n   *\n   */\n  public onRightSearchChange(value: string = \'\') {\n    this.$emit(\'on-filter-change\', { type: 2, value });\n    if (this.selectAllRight) {\n      this.selectAllRight = false;\n    }\n    this.onSelectRightAllChange(false); // æå¨ç½®ç©ºå·²ç»éä¸­çéé¡¹\n  }\n\n  /**\n   * å³ä¾§å¤éæ¡åæ¢äºä»¶\n   *\n   * @param {boolean} value\n   */\n  public onRightCheckboxChange(value: boolean) {\n    if (value) {\n      const len = this.selectedList.filter(v => v._checked && !v.disabled)\n        .length;\n      if (len === this.selectedList.filter(v => !v.disabled).length) {\n        this.selectAllRight = value;\n      }\n    } else {\n      this.selectAllRight = value;\n    }\n  }\n\n  /**\n   * æ¸²ælabel\n   *\n   * @param {*} data\n   * @returns {string}\n   */\n  public renderLabel(data: any): string {\n    return this.renderFormat ? this.renderFormat(data) : data.label || \'\';\n  }\n\n  /**\n   * å¤æ­æ¯å¦è¶åºæå¤§,å¹¶æä½æ¯å¦ç¦ç¨å·¦ä¾§æ \n   *\n   * @private\n   */\n  private isOverMax() {\n    if (this.max) {\n      const selectedLen = this.targetKeys.length + this.leftSelectedLength;\n      // è¶åºæå¤§å¼\n      if (selectedLen >= this.max) {\n        this.unSelectedList.forEach(v => {\n          if (!v._checked) {\n            v._disabled = true;\n          }\n        });\n      } else {\n        // æ²¡æè¶è¿æå¤§å¼çè¯ãåå°åé¨_disabledè®¾ç½®ä¸ºfalse\n        this.unSelectedList.forEach(v => {\n          v._disabled = false;\n        });\n      }\n    }\n  }\n\n  /**\n   * å¹ééä¸­çæ°æ®\n   *\n   * @description targetKeysä¸­åæ¬å¹¶ä¸å¹éæç´¢å\n   * @private\n   * @param {TransferList} data\n   * @returns\n   */\n  private isMatchSelected(data: TransferList) {\n    return (\n      this.S_T_K.indexOf(data[this.dataKey]) !== -1 &&\n      data.label.indexOf(this.rightFilterName) !== -1\n    );\n  }\n\n  /**\n   * å¹éæªéä¸­çæ°æ®\n   *\n   * @description targetKeysä¸­ä¸åæ¬å¹¶ä¸å¹éæç´¢å\n   * @private\n   * @param {TransferList} data\n   * @returns\n   */\n  private isMatchUnSelected(data: TransferList) {\n    return (\n      this.S_T_K.indexOf(data[this.dataKey]) === -1 &&\n      data.label.indexOf(this.leftFilterName) !== -1\n    );\n  }\n\n  // å¤æ­æªç¦ç¨\n  private notDisabled({ disabled, _disabled }: TransferList) {\n    return !disabled && !_disabled;\n  }\n}\n\ninterface TransferList {\n  label: string;\n  key?: string;\n  _checked: boolean; // æ¯å¦éä¸­\n  _disabled: boolean; // æ¯å¦ç¦ç¨\n  disabled?: boolean; // å¤é¨æ°æ®ç¦ç¨\n  [i: string]: any;\n}\n<\/script>']},media:void 0})}),rr,"data-v-3d1d5866",!1,void 0,!1,Rn,void 0,void 0),ar={VClusterizeList:ir,VMultipleSelect:In,VTransferBox:or},sr={install:function(e){Object.keys(ar).forEach((function(t){e.component(t,ar[t])}))}};export default sr;export{ir as VClusterizeList,In as VMultipleSelect,or as VTransferBox};
